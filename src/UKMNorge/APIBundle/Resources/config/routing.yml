ukmapi_homepage:
    path:     /hello/{name}
    defaults: { _controller: UKMAPIBundle:Default:index }

### EKSTERNT API
ukm_api_poststed:
    path: /api/poststed/{postnummer}
    defaults: { _controller: UKMAPIBundle:Default:poststed }
    requirements: 
        postnummer: ([0-9]{1,4})



### ------------------------- Innslag -------------------------

# Get single innslag
ukm_api_get_innslag:
    path: /api/get_innslag/{innslag_id}
    defaults: { _controller: UKMAPIBundle:Default:getSingleInnslag }
    methods: [GET]

# Get innslag typer
ukm_api_get_innslag_types:
    path: /api/get_all_innslag/
    defaults: { _controller: UKMAPIBundle:Default:getAllInnslag }
    methods: [GET]

# Opprett innslag
ukm_api_new_innslag:
    path: /api/new_innslag/
    defaults: { _controller: UKMAPIBundle:Default:newInnslag }
    requirements:
        k_id: ([0-9]{1,4})
        pl_id: ([0-9]{1,5})
        type: ([a-z]+)
    methods: [POST]

# Edit innslag
ukm_api_edit_innslag:
    path: /api/edit_innslag/
    defaults: { _controller: UKMAPIBundle:Default:editInnslag }
    requirements: 
        b_id: ([0-9]{1,11})
        navn: ([^0-9]+) 
        beskrivelse: ([^0-9]+) 
    methods: [PATCH]

# Fjern innslag
ukm_api_remove_innslag:
    path: /api/remove_innslag/
    defaults: { _controller: UKMAPIBundle:Default:removeInnslag }
    requirements: 
        pl_id: ([0-9]{1,5})
        b_id: ([0-9]{1,11})
    methods: [POST]

# Get innslag typer
ukm_api_get_innslag_types:
    path: /api/get_innslag_types/{pl_id}
    defaults: { _controller: UKMAPIBundle:Default:getInnslagTypes }
    requirements: 
        pl_id: ([0-9]{1,5})
    methods: [GET]


### ------------------------- Arrangement -------------------------

# Get arrangement
ukm_api_get_arrangement:
    path: /api/get_arrangement/{arrangementId}
    defaults: { _controller: UKMAPIBundle:Default:getArrangement }
    requirements: 
        arrangementId: ([0-9]{1,10})
    methods: [GET]

# Get arrangementer i kommune
ukm_api_get_arrangementer_i_kommune:
    path: /api/get_arrangementer_i_kommune/{k_id}
    defaults: { _controller: UKMAPIBundle:Default:getArrangementIKommune }
    requirements: 
        k_id: ([0-9]{1,4})
    methods: [GET]


### ------------------------- Fylker og Kommune -------------------------
ukm_api_get_alle_fylker_og_kommuner:
    path: /api/get_all_fylker_og_kommuner/
    defaults: { _controller: UKMAPIBundle:Default:getAlleFylkerOgKommuner }
    methods: [GET]    


### ------------------------- Fylker -------------------------
    
# Get alle fylker
ukm_api_get_alle_fylker:
    path: /api/get_all_fylker/
    defaults: { _controller: UKMAPIBundle:Default:getAlleFylker }
    methods: [GET]

# Get fylke med id
ukm_api_get_fylke:
    path: /api/get_fylke/{fylke_id}
    defaults: { _controller: UKMAPIBundle:Default:getFylke }
    requirements: 
        fylke_id: ([0-9]{1,5})
    methods: [GET]


### ------------------------- Kommune -------------------------

# Get alle fylker
ukm_api_get_kommuner_i_fylke:
    path: /api/get_kommuner_i_fylke/{fylke_id}
    defaults: { _controller: UKMAPIBundle:Default:getAlleKommunerIFylke }
    requirements: 
        fylke_id: ([0-9]{1,4})
    methods: [GET]


### ------------------------- Personer -------------------------

# Get alle personer i ett innslag
ukm_api_get_all_persons:
    path: /api/get_all_persons/{b_id}
    defaults: { _controller: UKMAPIBundle:Default:getAllPersons }
    requirements: 
        b_id: ([0-9]{1,11})
    methods: [GET]

# New person
ukm_api_new_person:
    path: /api/new_person/
    defaults: { _controller: UKMAPIBundle:Default:createNewPerson }
    requirements: 
        k_id: ([0-9]{1,4})
        pl_id: ([0-9]{1,5})
        type: ([a-z]+)
        b_id: ([0-9]{1,11})
        fornavn: ([^0-9]+)
        etternavn: ([^0-9]+)
        alder: ([0-9]{1,2})
        mobil: ([0-9]{8})
        rolle: ([^0-9]+)
        
    methods: [POST]


# Edit person
ukm_api_edit_person:
    path: /api/edit_person/
    defaults: { _controller: UKMAPIBundle:Default:editPerson }
    requirements: 
        b_id: ([0-9]{1,11})
        p_id: ([0-9]{1,5})
        fornavn: ([^0-9]+)
        etternavn: ([^0-9]+)
        alder: ([0-9]{1,2})
        mobil: ([0-9]{8})
        rolle: ([^0-9]+)
    methods: [PATCH]


# Remove person from innslag
ukm_api_remove_person:
    path: /api/remove_person/
    defaults: { _controller: UKMAPIBundle:Default:removePerson }
    requirements: 
        k_id: ([0-9]{1,4})
        pl_id: ([0-9]{1,5})
        type: ([a-z]+)
        b_id: ([0-9]{1,11})
        p_id: ([0-9]{1,11})
    methods: [POST]
