{% extends "UKMDeltaBundle::layout.html.twig" %}
{% trans_default_domain translationDomain %}

{% block delta_content %}
	{% stylesheets
		'@UKMDeltaBundle/Resources/public/css/oversikt-page.css' 
		'@UKMDeltaBundle/Resources/public/css/home-page.css' 
		%}
		<link type="text/css" rel="stylesheet" media="all" href="{{ asset_url }}" />
	{% endstylesheets %}

	{% include "UKMDeltaBundle:OnePagePages:header.html.twig" with { headerMainText: 'Om fremføringen', headerUnderText : 'Skriv litt om dere selv og hva dere har tenkt å vise frem på UKM.'}%}

	<div class="container main-container">
		<div class="col-12 nop">

			<div class="hr-info">
				<div class="line"></div>
				<p class="text">OM DEG / DERE</p>
				<div class="line"></div>
			</div>

			<div class="input-area">
				<div class="input-delta {{ innslag.getNavn() ? 'open' : '' }}">
					<div class="overlay">
						<div class="info">
							<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="fill: #A0AEC0; transform: ;msFilter:;"><path d="M9.5 12c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4zm1.5 1H8c-3.309 0-6 2.691-6 6v1h15v-1c0-3.309-2.691-6-6-6z"></path><path d="M16.604 11.048a5.67 5.67 0 0 0 .751-3.44c-.179-1.784-1.175-3.361-2.803-4.44l-1.105 1.666c1.119.742 1.8 1.799 1.918 2.974a3.693 3.693 0 0 1-1.072 2.986l-1.192 1.192 1.618.475C18.951 13.701 19 17.957 19 18h2c0-1.789-.956-5.285-4.396-6.952z"></path></svg>
							<span class="text">Artistnavn / Gruppenavn</span>
						</div>
					</div>
					<input type="text" class="input" value="{{ innslag.getNavn() }}">
					<button class="button-right hover-button-delta" data-toggle="collapse" href="#innslagNavnInfo" role="button" aria-expanded="false" aria-controls="innslagNavnInfo">
						<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0.5 -1 28 28" style="fill: #fff ;transform: ;msFilter:;"><path d="M12 4C9.243 4 7 6.243 7 9h2c0-1.654 1.346-3 3-3s3 1.346 3 3c0 1.069-.454 1.465-1.481 2.255-.382.294-.813.626-1.226 1.038C10.981 13.604 10.995 14.897 11 15v2h2v-2.009c0-.024.023-.601.707-1.284.32-.32.682-.598 1.031-.867C15.798 12.024 17 11.1 17 9c0-2.757-2.243-5-5-5zm-1 14h2v2h-2z"></path></svg>
					</button>
				</div>
				<div id="innslagNavnInfo" class="beskrivelse-under-input-delta collapse">
					<div class="space">
						<div class="info-icon">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: #edf2f7; transform: ;msFilter:;"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"></path><path d="M11 11h2v6h-2zm0-4h2v2h-2z"></path></svg>
						</div>
						<span>
							Artist eller gruppenavn er det navnet du / dere ønsker å bli vist frem som til andre deltagere og publikum. Dette kan for eksempel være “Nordmann Productions”, “Ola Nordmann”, eller det du / dere måtte ønske å kalle dere.
						</span>
					</div>
				</div>
			</div>

			<div class="input-area">
				<div class="input-delta {{ innslag.getBeskrivelse() ? 'open' : '' }}">
					<div class="overlay">
						<div class="info">
							<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="fill: #A0AEC0 ;transform: ;msFilter:;"><path d="M15 11h7v2h-7zm1 4h6v2h-6zm-2-8h8v2h-8zM4 19h10v-1c0-2.757-2.243-5-5-5H7c-2.757 0-5 2.243-5 5v1h2zm4-7c1.995 0 3.5-1.505 3.5-3.5S9.995 5 8 5 4.5 6.505 4.5 8.5 6.005 12 8 12z"></path></svg>
							<span class="text">Beskriv deg / dere selv</span>
						</div>
					</div>
					<textarea type="text" class="input" style="height: auto">{{ innslag.getBeskrivelse() }}</textarea>
					<button class="button-right hover-button-delta" data-toggle="collapse" href="#innslagBeskrivelseInfo" role="button" aria-expanded="false" aria-controls="innslagBeskrivelseInfo">
						<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0.5 -1 28 28" style="fill: #fff ;transform: ;msFilter:;"><path d="M12 4C9.243 4 7 6.243 7 9h2c0-1.654 1.346-3 3-3s3 1.346 3 3c0 1.069-.454 1.465-1.481 2.255-.382.294-.813.626-1.226 1.038C10.981 13.604 10.995 14.897 11 15v2h2v-2.009c0-.024.023-.601.707-1.284.32-.32.682-.598 1.031-.867C15.798 12.024 17 11.1 17 9c0-2.757-2.243-5-5-5zm-1 14h2v2h-2z"></path></svg>
					</button>
				</div>
				<div id="innslagBeskrivelseInfo" class="beskrivelse-under-input-delta collapse">
					<div class="space">
						<div class="info-icon">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: #edf2f7; transform: ;msFilter:;"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"></path><path d="M11 11h2v6h-2zm0-4h2v2h-2z"></path></svg>
						</div>
						<span>
							Her vil vi vite mer om deg og hvordan du lager film. Eks. Jeg startet å lage film når jeg var 12 år, og liker å lage filmer om folk som danser. Jeg filmer med speilrefleks, og liker å bruke mye tid på lyssetting.
						</span>
					</div>
				</div>
			</div>

		</div>
	







		<div class="accordion-item with-shadow with-radius">
			<div class="panel-default">
				<div class="card-header accordion-header-root">
					<button class="btn btn-link btn-block btn-accordion-root text-left hover-button-delta" onclick="toggleShadows(this)" data-toggle="collapse" href="#collapseUsers" aria-expanded="true">
						<svg class="caret-flip" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill:#A0AEC0;">
							<path d="M9 19L17 12 9 5z"></path>
						</svg>
						<span class="accordion-title-root">{{ innslag.getPersoner().getAntall() }} meldem</span>
					</button>
				</div>

				<div id="collapseUsers" class="panel-body accordion-body-root collapse show">
					<div class="accordion-header-sub card-body persons">
						{% for person in innslag.getPersoner().getAll() %}
						<div class="person">
							<div class="avatar">
								<img class="avatar" src="https://assets.ukm.dev/img/delta-nytt/avatar-female.png">
							</div>
							<div class="user-info">
								<p class="rolle">{{ person.getRolle() is not empty ? person.getRolle() : 'Ukjent rolle' }}</p>
								<p class="name">{{ person.getNavn() }}</p>
							</div>
						</div>
						{% endfor %}
						<div id="newUserCollapse" class="collapse">
							<div class="person new-person">
								<div class="user-empty">
									<div class="avatar">
										<img class="avatar" src="https://assets.ukm.dev/img/delta-nytt/avatar-female.png">
									</div>
									<div class="user-info">
										<p class="name">Legger til nytt medlem</p>
									</div>
									<div class="buttons">
										<button class="small-button-style hover-button-delta mini go-to-meld-av" data-toggle="collapse" href="#newUserCollapse" aria-expanded="true">
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="5 1 25 25" style="fill: #fff; transform: ;msFilter:;"><path d="m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z"></path></svg>
										</button>
									</div>
								</div>
							
								<div class="form-new-user">
									
									{# Fornavn #}
									<div class="input-delta">
										<div class="overlay">
											<div class="info">
												<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="fill: #A0AEC0;transform: ;msFilter:;"><path d="M7.5 6.5C7.5 8.981 9.519 11 12 11s4.5-2.019 4.5-4.5S14.481 2 12 2 7.5 4.019 7.5 6.5zM20 21h1v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h17z"></path></svg>
												<span class="text">Fornavn</span>
											</div>
										</div>
										<input type="text" class="input" name="fornavn">
									</div>

									{# Etternavn #}
									<div class="input-delta">
										<div class="overlay">
											<div class="info">
												<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="fill: #A0AEC0;transform: ;msFilter:;"><path d="M7.5 6.5C7.5 8.981 9.519 11 12 11s4.5-2.019 4.5-4.5S14.481 2 12 2 7.5 4.019 7.5 6.5zM20 21h1v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h17z"></path></svg>
												<span class="text">Etternavn</span>
											</div>
										</div>
										<input type="text" class="input" name="etternavn">
									</div>

									{# Alder #}
									<div class="input-delta">
										<div class="overlay">
											<div class="info">
												<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="fill: #A0AEC0; transform: ;msFilter:;"><path d="m21 2-5 5-4-5-4 5-5-5v13h18zM5 21h14a2 2 0 0 0 2-2v-2H3v2a2 2 0 0 0 2 2z"></path></svg>
												<span class="text">Alder</span>
											</div>
										</div>
										<input type="text" class="input" name="alder">
									</div>

									{# Mobilnummer #}
									<div class="input-delta">
										<div class="overlay">
											<div class="info">
												<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="fill: #A0AEC0; transform: ;msFilter:;"><path d="m20.487 17.14-4.065-3.696a1.001 1.001 0 0 0-1.391.043l-2.393 2.461c-.576-.11-1.734-.471-2.926-1.66-1.192-1.193-1.553-2.354-1.66-2.926l2.459-2.394a1 1 0 0 0 .043-1.391L6.859 3.513a1 1 0 0 0-1.391-.087l-2.17 1.861a1 1 0 0 0-.29.649c-.015.25-.301 6.172 4.291 10.766C11.305 20.707 16.323 21 17.705 21c.202 0 .326-.006.359-.008a.992.992 0 0 0 .648-.291l1.86-2.171a.997.997 0 0 0-.085-1.39z"></path></svg>	
												<span class="text">Mobilnummer</span>
											</div>
										</div>
										<input type="text" class="input" name="mobilnummer">
									</div>

									{# Rolle #}
									<div class="input-delta">
										<div class="overlay">
											<div class="info">
												<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="fill: #A0AEC0; transform: ;msFilter:;"><path d="M20 6h-3V4c0-1.103-.897-2-2-2H9c-1.103 0-2 .897-2 2v2H4c-1.103 0-2 .897-2 2v4h5v-2h2v2h6v-2h2v2h5V8c0-1.103-.897-2-2-2zM9 4h6v2H9V4zm8 11h-2v-2H9v2H7v-2H2v6c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-6h-5v2z"></path></svg>
												<span class="text">Rolle i gruppa</span>
											</div>
										</div>
										<input type="text" class="input" name="rolle_i_gruppa">
									</div>

								</div>
							</div>

							<div class="new-member-div">
								<button class="small-button-style new-member hover-button-delta">
									Fullfør og legg til
								</button>
							</div>
						</div>

					</div>

					<div class="new-member-div">
						<button class="small-button-style new-member add-new hover-button-delta collapsed" data-toggle="collapse" href="#newUserCollapse" aria-expanded="false">
							Legg til person
							<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" style="fill: #718096; transform: ;msFilter:;"><path d="M4.5 8.552c0 1.995 1.505 3.5 3.5 3.5s3.5-1.505 3.5-3.5-1.505-3.5-3.5-3.5-3.5 1.505-3.5 3.5zM19 8h-2v3h-3v2h3v3h2v-3h3v-2h-3zM4 19h10v-1c0-2.757-2.243-5-5-5H7c-2.757 0-5 2.243-5 5v1h2z"></path></svg>
						</button>

					</div>
				</div>

			</div>
		</div>







	</div>


	<div class="hr-info with-space">
		<div class="line"></div>
		<p class="text">OM BIDRAGET</p>
		<div class="line"></div>
	</div>

	<br>
	<br>
	<br>
	<br>
	{# OLD -------------------------------------------------------------------------------------- #}
	<div class="container">
		<div class="row">
			<div class="col-12">
				<form class="form-group delta-form" id="overview_mainform" method="POST" action="{{ path('ukm_delta_ukmid_pamelding_lagre', { k_id: k_id, pl_id: pl_id, type: type_key, b_id: b_id }) }}">
					<input type="hidden" name="path" id="deltapath" value="" autocomplete="off" />

					<div class="form-group">
						<label>{{ type.getTekst('artistnavn.' ~ ( innslag.getPersoner().getAntall() == 1 ? 'alene' : 'sammen' ) ~ '.navn') }}</label>
						<input type="text" required name="navn" class="form-control" placeholder="{{ type.getTekst('artistnavn.' ~ ( innslag.getPersoner().getAntall() == 1 ? 'alene' : 'sammen' ) ~ '.placeholder', {'%fornavn': user.getFirstName(), '%etternavn': user.getLastName() }) }}" value="{{ innslag.getNavn() != 'Innslag uten navn' ? innslag.getNavn() : ''  }}" /> 
					</div>
                    
                    {# BESKRIVELSE #}
                    {% if type.harBeskrivelse() %}
                        <div class="form-group">
                            <label>{{ ('overviewAction.beskrivelse.' ~ ( innslag.getPersoner().getAntall() == 1 ? 'alene' : 'sammen' ) ~ '.label')|trans({'%fornavn': user.getFirstName(), '%etternavn': user.getLastName() }) }}</label>
                            <p class="help">{{ ('overviewAction.beskrivelse.hvor')|trans({},'base') }}</p>
                            <textarea name="beskrivelse" rows="3" class="form-control" placeholder="{{ ('overviewAction.beskrivelse.' ~ ( innslag.getPersoner().getAntall() == 1 ? 'alene' : 'sammen' ) ~ '.placeholder')|trans({'%fornavn': user.getFirstName(), '%etternavn': user.getLastName() }) }}">{{ innslag.getBeskrivelse() }}</textarea>			
                        </div>
                    {% endif %}
					
					{# SJANGER #}
					{% if type.harSjanger() %}
						<div class="form-group">
							<label>{{ type.getTekst('sjanger.navn')|capitalize }}</label>
							<input type="text" name="sjanger" class="form-control" placeholder="{{ type.getTekst('sjanger.placeholder') }}" value="{{ innslag.getSjanger() }}" />
						</div>
					{% endif %}
					
                    {# PERSONER #}
					<div class="my-3">
						{% include 'UKMDeltaBundle:Innslag:personer.html.twig' %} 
					</div>
					
                    {# TITLER #}
                    <div class="my-3">
                    	{% if type.harTitler() %}
					
							{% include 'UKMDeltaBundle:Tittel:titler.html.twig' %}
						{% endif %}
					</div>

                    {# TEKNISKE BEHOV #}
					<div class="my-3">
						{% if type.harTekniskeBehov() %}
							{% include 'UKMDeltaBundle:Innslag:tekniskebehov.html.twig' %}
						{% endif %}
					</div>

					<div class="my-3 form-group">
						<button type="submit" class="btn btn-block btn-outline-primary btn-success">{{ 'overviewAction.lagre'|trans({},'base') }}</button>
					</div>
					
					<p class="center">
						<a href="{{ path('ukm_delta_ukmid_homepage') }}" class="">{{ 'overviewAction.avbryt'|trans({}, 'base') }}</a>
					</p>
				</form>
			</div>
		</div>
	</div>

	<script>
		var toggleShadows = (e) => {
			if($(e).hasClass('collapsed')) {
				$($(e).parent().parent().parent()).addClass('with-shadow');
			}
			else {
				$($(e).parent().parent().parent()).removeClass('with-shadow');
			}
		}
	</script>


	{{ parent() }}
	
	{% javascripts 
		'@UKMDeltaBundle/Resources/public/js/innslag.js'
		'@UKMDeltaBundle/Resources/public/js/input-field.js'
		'@UKMDeltaBundle/Resources/public/js/triggerlink.js'
		'@UKMDeltaBundle/Resources/public/js/videresend.js' %}
		<script src="{{ asset_url }}" type="text/javascript"></script> 
	{% endjavascripts %}
{% endblock %}
