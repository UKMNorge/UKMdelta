{% extends "UKMDeltaBundle::layout.html.twig" %}
{% trans_default_domain translationDomain %}

{% block javascripts %}
	{{ parent() }}
	{% javascripts '@UKMDeltaBundle/Resources/public/js/tittel.js' %}
    	<script src="{{ asset_url }}"></script> 
	{% endjavascripts %}
{% endblock %}

	
{% block content %}
	<div class="container">
		<div class="row">
			<div class="col-12">
				{% if tittel is defined %}
					<h1 class="mt-0">{{ 'tittel.overskrift.rediger'|trans( {'%tittel': tittel.getTittel()} ) }}</h1>
				{% else %}
					<h1 class="mt-0">{{ 'tittel.overskrift.legg_til'|trans }}</h1>
				{% endif %}	
				
				<form method="POST" action="{{ path('ukm_delta_ukmid_pamelding_innslag_lagre_ny_tittel', { k_id: k_id, pl_id: pl_id, type: type_key, b_id: b_id }) }}">
					<input type="hidden" name="innslagsnavn" value="{{ innslag.getNavn() }}" />
					<input type="hidden" name="t_id" value="{{ tittel is defined ? tittel.getId() : 'new' }}" />

					<div class="form-group">
						<label>{{ 'tittel.tittel.label'|trans }}</label>
						<input type="text" required name="tittel" class="form-control" placeholder="Eks. Skyfall, I will survive..." value="{{ tittel is defined ? tittel.getTittel() }}" />
					</div>
			
					<div class="form-group">
						<label>{{ 'tittel.varighet.label'|trans }}</label>
						{% include "UKMDeltaBundle:Tittel:varighet.html.twig" %}
					</div>
			
					<div class="form-group my-4">
						<button type="submit" class="btn btn-block btn-outline-primary btn-success">{{ 'tittel.lagre'|trans }}</button>
					</div>
					
					{% if tittel is defined > 0 %}
						<p class="my-4">
							<a href="{{ path('ukm_delta_ukmid_pamelding_innslag_slett_tittel', {  k_id: k_id, pl_id: pl_id, type: type_key, b_id: b_id, t_id: tittel.getId() }) }}" class="btn btn-block btn-danger">
								{{ 'tittel.slett'|trans({'%tittel': tittel.getTittel() }) }}
							</a>
						</p>
					{% endif %}

					<p class="my-3 center">
						<a href="{{ path('ukm_delta_ukmid_pamelding_innslag_oversikt', { k_id: k_id, pl_id: pl_id, type: type_key, b_id: b_id }) }}">
							{{ 'tittel.avbryt'|trans }}
						</a>
					</p>
					
				</form>
			</div>
		</div>
	</div>
{% endblock %}